!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=e=>{let t=document.getElementById("select-style");t||(t=document.createElement("style"),t.id="select-style"),t.textContent="\n  .active {\n    display: flex !important;\n  }\n  ",e.classList.toggle("active"),document.head.append(t)};var o=()=>{const e=/^\+?\d+$/,t=document.getElementById("banner-form"),n=document.getElementById("card_order"),o=document.getElementById("footer_form"),c=document.getElementById("free_visit_form"),l=document.getElementById("callback_form"),s=(document.querySelector(".overlay"),document.getElementById("thanks")),a=document.querySelector("body");let d=document.createElement("p");d.style="color: white",d.id="mess";document.querySelectorAll('.personal-data>input[type="checkbox"]').forEach(e=>{e.required=!1});const i=t=>{const n=t.target,o=n.querySelector('.personal-data>input[type="checkbox"]'),c=n.querySelectorAll('.club>input[type="radio"]'),l=n.innerHTML;t.preventDefault();const i=e=>!0===e.checked;let u=n.querySelectorAll("input");if((t=>{let n=!0;return t.forEach(t=>{"tel"!==t.type||e.test(t.value)||(t.style.border="solid red",n=!1)}),n})(u))if(u.forEach(e=>{e.style.border=""}),o&&o.checked||n.closest("#footer_form")&&[...c].some(i)){const e=new FormData(n);let t={};e.forEach((e,n)=>{t[n]=e}),d.remove(),n.innerHTML+="<h4>Идет отправка</h4>",(e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"}))(t).then(e=>{if(200!==e.status)throw(n.closest("#callback_form")||n.closest("#free_visit_form"))&&(n.innerHTML="<h4>Ошибка</h4>"),(n.closest("#banner-form")||n.closest("#footer_form"))&&(r(s),s.querySelector(".form-content").innerHTML='\n      <h4>Ошибка!</h4>\n      <p>Отправка не удалась.</p>\n      <button class="btn close-btn">OK</button>'),new Error("status network is not 200");(n.closest("#callback_form")||n.closest("#free_visit_form"))&&(n.innerHTML="<h4>Отправлено</h4>"),n.closest("#banner-form")&&(r(s),s.querySelector(".form-content").innerHTML='\n            <h4>Спасибо!</h4>\n            <p>Ваша заявка отправлена. <br> Мы свяжемся с вами в ближайшее время.</p>\n            <button class="btn close-btn">OK</button>')}).catch(e=>{console.error(e)})}else c&&(d.innerHTML="Не выбран клуб"),n.querySelector("#mess")||n.append(d),o&&(d.innerHTML="Необходимо подтвердить согласие на обработку данных",o.addEventListener("change",()=>{o.checked&&d.remove()})),c&&[...c].forEach(e=>e.addEventListener("change",()=>{e.checked&&d.remove()}));a.addEventListener("click",e=>{(e.target.matches(".close_icon")||e.target.matches(".overlay")||e.target.matches(".close-btn"))&&(n.innerHTML=l,u=n.querySelectorAll("input"),u.forEach(e=>{e.value="",e.style.border=""}),o.checked=!1,d.remove())})};t.addEventListener("submit",i),n.addEventListener("submit",i),o.addEventListener("submit",i),l.addEventListener("submit",i),c.addEventListener("submit",i),document.querySelectorAll("input[type=text]").forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^а-я\s]/gi,"")})})};var c=()=>{const e=document.querySelector("body"),t=document.getElementById("free_visit_form"),n=document.getElementById("callback_form");e.addEventListener("click",o=>{const c=o.target;c.closest(".club-select")&&r(c.closest(".club-select").querySelector("ul")),c.closest(".open-popup")&&r(t),c.matches(".callback-btn")&&!c.closest("#footer_form")&&r(n),c.matches(".close_icon")&&r(c.closest(".popup")),c.closest(".overlay")&&r(e.querySelector(".active")),c.closest(".fixed-gift")&&(e.querySelector(".fixed-gift").style.display="none",r(document.getElementById("gift"))),c.closest(".close-btn")&&c.closest("#thanks")&&r(document.getElementById("thanks")),c.closest(".close-btn")&&c.closest("#gift")&&r(document.getElementById("gift"))})};(()=>{const e=document.querySelector(".main-slider"),t=e.querySelectorAll(".slide");let n,r=0;const o=()=>{t[r].style.display="none",r++,r>=t.length&&(r=0),t[r].style=""},c=(e=3e3)=>{n=setInterval(o,e)};e.addEventListener("mouseover",e=>{e.target.closest(".main-slider")&&clearInterval(n)}),e.addEventListener("mouseout",e=>{e.target.closest(".main-slider")&&c()}),c(1500)})(),o(),c()}]);